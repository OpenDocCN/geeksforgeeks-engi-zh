# 什么是单元测试，为什么开发人员要学习它？

> 原文:[https://www . geesforgeks . org/什么是单元测试以及为什么开发人员应该学习它/](https://www.geeksforgeeks.org/what-is-unit-testing-and-why-developer-should-learn-it/)

**先说个食谱……**
你爱吃煎蛋吗？(当然…这可能是你最喜欢的早餐)
我们来准备吧…所以你需要一些食材，比如…鸡蛋、牛奶、培根、奶酪、西红柿、洋葱、盐。在准备煎蛋卷之前，你可能想核实、检查、评估和测试的事情很少。

*   几个鸡蛋？它们新鲜吗？
*   什么样的牛奶？多少钱？是不是被宠坏了？
*   碗干净吗？
*   当你把培根放在煎锅里时，它是否足够热？

然后它继续…你检查、评估、验证、品尝你的食材，准备一份完美的煎蛋食谱。当你这样做的时候，你是在测试**单个成分**，进行观察，并在创建产品的过程中做出判断，但请注意，你是在测试组件，而不是产品。如果你在烹饪欧米茄时没有注意过程(和成分)，后来如果你尝了最后的食谱，你可能会准备一个糟糕的食谱。原因可能是变质的牛奶、脏碗或其他任何东西。这可能会造成严重的健康问题。

![What-is-Unit-Testing-and-Why-Developer-Should-Learn-It](img/f4e1ede9e9ae74b68f547c3c80981e30.png)

同样的事情也发生在软件开发中。在单元测试中，在开发阶段测试程序的单个组件或每个部分，以确保它们都正常工作。很多开发人员讨厌编写单元测试，但是执行单元可以在软件开发过程的初始阶段检测到很多问题。这些问题可以在生产层面变得更成问题之前得到更早的纠正。让我们详细谈谈单元测试，以及为什么开发人员应该学习它…

### 什么是单元测试？

单元测试大多由软件开发人员或白盒测试人员完成。它是分离程序(单元)的每个部分并检查它们是否适合使用的过程。换句话说，编写代码来测试代码，然后以自动化的方式运行这些测试是一种实践。

*但是单位这个术语在这里是什么意思呢？？什么单位考虑？？*

这些单元是软件程序的一部分，如应用程序中的单个函数、对象、方法、过程、接口或模块。它是在集成测试之前完成的。开发人员使用手动或自动测试来确保每个单元都满足需求并按预期工作。开发人员使用驱动程序、单元测试框架、模拟对象和存根来执行单元测试。

现在让我们举一个简单的例子来检查单元测试是什么样子的，它是如何工作的…

想象一下，一个开发人员在他的代码中编写了一个基本的计算函数，该函数接受一个输入，并根据某些条件返回不同的值…

```
public float CalculateSalary(int input) 
{
    if (x) return ...;
    if (y) return ...;
    if(z) return ...;
    return ...;
}

```

许多组织手动测试函数或代码。开发人员运行该应用程序时，他可能会登录一些页面，并在几次点击后，他会被重定向到使用该功能的页面。如果有一个表单，那么对于不同的值，他可能需要填写一个表单，提交它，并验证函数是否返回了正确的结果。正如我们提到的，这个过程将对不同的值重复。*是不是一个耗时的过程？？*如果应用程序增长了，会有几十个或者几百个这样的功能，会怎么样呢！？毫无疑问，对于更大和复杂的应用程序，时间将呈指数级增长。

***那么解决办法是什么……？*T3】**

您可以为编写测试创建一个单独的项目。在该项目中，您可以编写代码并调用该函数来验证不同输入的结果。

```
var result = CalculateSalary(1);
Verify(result == 1.5f);

```

这些类型的测试是单元测试，在这里我们孤立地测试应用程序的一个单元，而没有它的外部依赖，如文件、数据库、网络服务等。从上面的例子中，很清楚单元测试是如何节省大量时间的。单元测试提供了许多好处。让我们详细讨论单元测试的好处，以及为什么开发人员应该学习它…

### 为什么开发人员应该学习单元测试？

#### 1.单元测试是可重复的，它使编码变得敏捷

单元测试最好的一点是它们是可重复的。你写一次，就能运行一百万次。您可以为应用程序的不同部分编写成千上万个单元测试，并且可以在几秒钟内运行所有这些测试。
也让流程更加敏捷，加快了编码过程。在软件开发中，您可能不得不改变代码的结构或设计来增加新的特性。更改已经测试过的代码可能会有风险，而且成本很高。当你做单元测试时，你只需要测试新添加的代码，而不是整个程序。

#### 2.早期检测软件错误

想象一下这样一个场景:您在应用程序中构建了一些特性，经过一些检查和手动测试后，它被部署了。你离开了你的办公室，但是在某个地方，你可能正在考虑应用程序……*如果你的代码在生产级别上中断了怎么办？如果你的代码被一些愚蠢的输入打断了怎么办？*。即使你认为一切正常，你也可能接到你的团队领导打来的电话，告诉你应用程序的一个主要功能不正常？它对某些情况或输入不起作用，并且有一些错误。单元测试在这种情况下成为救世主。
在集成测试之前，开发人员进行了单元测试和单个代码测试。这有助于在软件开发过程的早期发现问题，并且可以在生产级部署应用程序之前解决问题。在测试驱动的情况下，应用程序的发布时间更短，当单元测试被包含在开发过程中时，你会发现错误的数量更少。在早期阶段检测错误可以最大限度地降低开发风险，避免花费过多的金钱和时间。

#### 3.提高代码质量

由于不可预见的边缘情况的结果，软件开发中出现了许多错误。如果您忘记预测单个输入，那么以后您可能会在应用程序中遇到重大错误。当您编写单元测试时，您会仔细考虑应用程序中每个函数的所有边缘情况。您向函数提供各种输入，并确保它按照您的期望运行。在编写代码之前，您还需要仔细考虑设计及其必须完成的任务。我们可以说，应用程序的每一个最小的功能都很重要，这有助于编写更干净、更易维护的代码。一个干净和可维护的代码总是容易改变和容易理解。

#### 4.提供文档

单元测试给出了代码的基本概念，所有不同的用例都包含在程序中。它使文档更容易，这增加了代码的可读性和可理解性。任何时候，其他开发人员都可以通过单元测试界面，更好地理解程序，并快速轻松地处理它。

#### 5.更简单的更改和简化的集成

在软件开发中，大多数时候你需要修改代码或者重构代码。在重构中，您改变了代码的结构，而没有改变它的行为。当您不编写单元测试并重构代码时，每次您手动测试应用程序中可能受重构影响的每个部分时。这是一个耗时的过程，您可能还会忘记一些需要测试的部分。

当您进行单元测试时，重构代码或升级库变得更加容易，并且您可以确保您的模块仍然工作，并且它不会意外地破坏以前工作的任何东西。单元测试允许您快速更改代码，而不用担心影响系统的其他部分，因为测试证明行为是相同的。此外，当每个功能都经过单元测试和验证时，集成测试在下一阶段变得更加容易。它只需要集成所有的功能来满足客户的需求，如果出现任何错误，就更容易纠正问题。

#### 6.轻松调试

单元测试使调试变得更加容易和快速。如果测试在任何阶段失败，你只需要调试代码中的最新变化，而不是整个程序。我们还提到了单元测试如何在集成测试的下一阶段使调试变得更容易。

#### 7.经济高效

**一个 bug 活得越久，修复的成本就越高。**请记住，与在编写代码之前编写测试相比，您在没有测试的情况下编写的每一行代码在之后添加测试的成本都要高得多。事实上，在一项研究中，已经证明这些 bug 及其解决方案会产生不同的成本。客户总是希望以最小的成本和最短的时间完成工作。

当您编写单元测试时，您会在早期发现错误，并在那里解决它，但是如果没有单元测试的软件会在生产级别或后期阶段失败，那么开发人员不仅要付出更多的努力来发现错误，而且在金钱和时间方面，他们要花很多钱来纠正这个问题。他们可能不得不修改项目的整个代码，这既累又浪费钱。这对客户来说也是昂贵的，没有一个组织希望让他们的客户失望并留下不好的印象。因此，对开发人员和客户来说，进行单元测试是一种经济高效的双赢局面。

> 测试就像刷牙一样——不，你的牙齿今天没有掉出来是因为你没有刷牙，10 年后它们就会掉出来，那就太晚了。